{% extends 'flatpages/default.html' %}

{% load custom_filters %}
{% load custom_tags %}

{% block title %}
News
{% endblock title %}

{% block content %}
    <h1> All news</h1>
    <h3>{% current_time '%d %b %Y %A' %}</h3>
    <h3> {{length}}</h3>
           <hr>
        {% if news %}
            <table>
                <tr>
                    <td><h2>Заголовок</h2></td>
                    <td><h2>Дата публикации</h2></td>
                    <td><h2>Описание</h2></td>
                </tr>
                {% for post in news %}
                    <tr>
                        <td>{{post.title}}</td>
                        <td>{{post.date_time|date:'d.m.Y'}}</td>
                        <td>{{post.text|truncatewords:21|censor}}</td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            <h2>News is out.</h2>
        {% endif %}
{% endblock content %}
